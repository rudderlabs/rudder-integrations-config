{
  "uiConfig": {
    "baseTemplate": [
      {
        "title": "Initial setup",
        "note": "Review how this destination is set up",
        "sections": [
          {
            "groups": [
              {
                "title": "Connection settings",
                "note": "Update your connection settings here",
                "icon": "settings",
                "fields": [
                  {
                    "type": "textInput",
                    "label": "Client Id",
                    "configKey": "clientId",
                    "placeholder": "e.g. ow08170123XXXlovt1z0j8hm",
                    "secret": true
                  },
                  {
                    "type": "textInput",
                    "label": "Client Secret",
                    "configKey": "clientSecret",
                    "placeholder": "e.g. Sm7Yoqpx1XXX1234Juvl61Ag",
                    "secret": true
                  },
                  {
                    "type": "textInput",
                    "label": "Subdomain",
                    "configKey": "subDomain",
                    "placeholder": "e.g. mcxt4zx4641XXX1jd9rp300hdc8y",
                    "secret": true
                  }
                ]
              }
            ]
          },
          {
            "groups": [
              {
                "title": "Connection mode",
                "note": [
                  "Update how you want to route events from your source to destination. ",
                  {
                    "text": "Get help deciding",
                    "link": "https://www.rudderstack.com/docs/destinations/rudderstack-connection-modes/"
                  }
                ],
                "icon": "sliders",
                "fields": []
              }
            ]
          }
        ]
      },
      {
        "title": "Configuration settings",
        "note": "Manage the settings for your destination",
        "sections": [
          {
            "title": "Destination settings",
            "note": "Configure advanced destination-specific settings here",
            "icon": "settings",
            "groups": [
              {
                "title": "Identify Call Settings",
                "fields": [
                  {
                    "type": "checkbox",
                    "label": "Do Not Create or Update Contacts",
                    "configKey": "createOrUpdateContacts",
                    "default": false,
                    "note": "To disable creating or updating contacts during an identify call, set this option to true."
                  },
                  {
                    "type": "textInput",
                    "label": "Identify Data External Key",
                    "configKey": "externalKey",
                    "placeholder": "e.g. mcxt4zx4641XXX1jd9rp300hdc8y",
                    "note": "Use this setting if you would like Rudder identify events to create or update Data Extensions in SFMC. The External Key of the Salesforce Marketing Cloud Data Extension to which you'd like to send Identify data. You can find this in the SFMC interface by navigating to Data & Analytics > Contact Builder > Data Extensions; the extension's name will appear in the External Key column."
                  },
                  {
                    "type": "dynamicDataSelect",
                    "configKey": "accounts",
                    "label": "Business Unit(optional)",
                    "placeholder": "e.g 1234567",
                    "apiName": "getAccounts"
                  },
                  {
                    "type": "dynamicDataSelect",
                    "configKey": "dataFolders",
                    "label": "Data Folder(optional)",
                    "placeholder": "e.g 1234567",
                    "apiName": "getFolders"
                  },
                  {
                    "type": "dynamicDataSelect",
                    "configKey": "dataExtensions",
                    "label": "Data Extensions",
                    "placeholder": "e.g 1234567",
                    "apiName": "getDataExtensions"
                  }
                ]
              }
            ]
          },

          {
            "title": "Other settings",
            "note": "Configure advanced RudderStack features here",
            "icon": "otherSettings",
            "groups": [
              {
                "title": "OneTrust consent settings",
                "note": [
                  "Enter your OneTrust consent category IDs if you have them configured. The support for category names is deprecated. We recommend using the category IDs instead of the names as IDs are unique and less likely to change over time, making them a more reliable choice.",
                  {
                    "text": "Learn more ",
                    "link": "https://www.rudderstack.com/docs/sources/event-streams/sdks/consent-manager/onetrust/"
                  },
                  "about RudderStack's OneTrust Consent Management feature."
                ],
                "fields": [
                  {
                    "type": "tagInput",
                    "label": "Consent categories",
                    "note": "Input your OneTrust category IDs by pressing 'Enter' after each entry.",
                    "configKey": "oneTrustCookieCategories",
                    "tagKey": "oneTrustCookieCategory",
                    "placeholder": "e.g: C0001",
                    "default": [
                      {
                        "oneTrustCookieCategory": ""
                      }
                    ],
                    "preRequisites": {
                      "featureFlags": [
                        {
                          "configKey": "AMP_enable-gcm",
                          "value": false
                        },
                        {
                          "configKey": "AMP_enable-gcm"
                        }
                      ],
                      "featureFlagsCondition": "or"
                    }
                  }
                ]
              }
            ]
          }
        ]
      },
      {
        "title": "Track Call Settings",
        "note": "You can add different mapping for different events here",
        "hideEditIcon": true,
        "sections": [
          {
            "groups": [
              {
                "title": "Event Mappings",
                "fields": [
                  {
                    "type": "redirect",
                    "redirectGroupKey": "eventsToExternalKey",
                    "label": "Map events to external key"
                  },
                  {
                    "type": "redirect",
                    "redirectGroupKey": "eventToPrimaryKey",
                    "label": "Map events to primary key",
                    "note": "The target Data Extension's Primary Key. If a value is not provided, defaults to Contact Key. You can add multiple primary keys by separating them with commas. The primary key names should be same as that you have set in SFMC data extensions."
                  },
                  {
                    "type": "redirect",
                    "redirectGroupKey": "eventToDefinitionMapping",
                    "label": "Map events to event definition key",
                    "note": "Map your event names to the respective event definition keys."
                  },
                  {
                    "type": "redirect",
                    "redirectGroupKey": "eventToUUID",
                    "label": "Map events to UUID",
                    "note": "RudderStack lets you set an automatically-generated UUID as the primary key value for a track event. To do so, enter the event in the Event Name field under Track Call Settings and enable the UUID setting."
                  }
                ]
              }
            ]
          }
        ]
      }
    ],
    "sdkTemplate": {
      "title": "Web SDK settings",
      "note": "not visible in the ui",
      "fields": []
    },
    "consentSettingsTemplate": {
      "title": "Consent settings",
      "note": "not visible in the ui",
      "fields": [
        {
          "type": "dynamicCustomForm",
          "configKey": "consentManagement",
          "default": [],
          "rowFields": [
            {
              "type": "singleSelect",
              "label": "Consent management provider",
              "configKey": "provider",
              "options": [
                {
                  "label": "Custom",
                  "value": "custom"
                },
                {
                  "label": "Ketch",
                  "value": "ketch"
                },
                {
                  "label": "OneTrust",
                  "value": "oneTrust"
                }
              ],
              "default": "oneTrust",
              "required": true
            },
            {
              "type": "singleSelect",
              "label": "the required consent logic",
              "configKey": "resolutionStrategy",
              "options": [
                {
                  "label": "AND",
                  "value": "and"
                },
                {
                  "label": "OR",
                  "value": "or"
                }
              ],
              "required": true,
              "variant": "badge",
              "preRequisites": {
                "fields": [
                  {
                    "configKey": "provider",
                    "value": "custom"
                  }
                ]
              }
            },
            {
              "type": "tagInput",
              "label": "Enter consent category ID’s",
              "note": "Input your consent category IDs by pressing ‘Enter’ after each entry. The support for category names is deprecated. We recommend using the category IDs instead of the names as IDs are unique and less likely to change over time, making them a more reliable choice.",
              "configKey": "consents",
              "tagKey": "consent",
              "placeholder": "e.g: Marketing",
              "default": [
                {
                  "consent": ""
                }
              ]
            }
          ],
          "preRequisites": {
            "featureFlags": [
              {
                "configKey": "AMP_enable-gcm",
                "value": true
              }
            ]
          }
        }
      ]
    },
    "redirectGroups": {
      "eventsToExternalKey": {
        "fields": [
          {
            "type": "mapping",
            "label": "Map events to external key",
            "configKey": "eventToExternalKey",
            "default": [],
            "columns": [
              {
                "type": "textInput",
                "key": "from",
                "label": "Event Name",
                "placeholder": "e.g: Product Clicked"
              },
              {
                "type": "textInput",
                "key": "to",
                "label": "External Key",
                "placeholder": "eg: 69364906-XXXX-XXXX-XXXX-7D9CD87F16EC"
              }
            ]
          }
        ]
      },
      "eventToPrimaryKey": {
        "fields": [
          {
            "type": "mapping",
            "label": "",
            "configKey": "eventToPrimaryKey",
            "default": [],
            "columns": [
              {
                "type": "textInput",
                "key": "from",
                "label": "Event Name",
                "placeholder": "e.g: Product Clicked"
              },
              {
                "type": "textInput",
                "key": "to",
                "label": "Primary Key",
                "placeholder": "eg: Contact Key"
              }
            ]
          }
        ]
      },
      "eventToDefinitionMapping": {
        "fields": [
          {
            "type": "mapping",
            "label": "Map your RudderStack events to Adobe custom events",
            "configKey": "eventToDefinitionMapping",
            "default": [],
            "columns": [
              {
                "type": "textInput",
                "key": "from",
                "label": "Event Name",
                "placeholder": "e.g: Product Clicked"
              },
              {
                "type": "textInput",
                "key": "to",
                "label": "Event Definition Key",
                "placeholder": "eg: AcmeBank-AccountAccessed"
              }
            ]
          }
        ]
      },
      "eventToUUID": {
        "fields": [
          {
            "type": "dynamicCustomForm",
            "configKey": "eventToUUID",
            "label": "Map events to UUID",
            "rowFields": [
              {
                "type": "mappingRow",
                "columns": [
                  {
                    "type": "textInput",
                    "configKey": "event",
                    "label": "Event Name",
                    "placeholder": "e.g. Product Added"
                  },
                  {
                    "type": "checkbox",
                    "configKey": "uuid",
                    "label": "UUID",
                    "default": true
                  }
                ]
              }
            ]
          }
        ]
      }
    }
  }
}
