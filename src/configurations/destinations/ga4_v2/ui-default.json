{
  "eventsMapping": [
    {
      "rsEventName": "Products Searched",
      "destEventName": "search",
      "eventProperties": [
        { "to": "$.events[0].params.search_term", "from": "$.events[0].params.properties.query" },
        {
          "from": "$.context.traits",
          "to": "$.user_properties"
        }
      ]
    },
    {
      "rsEventName": "Product List Viewed",
      "destEventName": "view_item_list",
      "eventProperties": [
        { "to": "$.events[0].params.item_list_id", "from": "$.properties.list_id" },
        { "to": "$.events[0].params.item_list_name", "from": "$.properties.category" },
        {
          "from": "$.properties.products[*].product_id",
          "to": "$.events[0].params.items[*].item_id"
        },
        {
          "from": "$.properties.products[*].name",
          "to": "$.events[0].params.items[*].item_name"
        },
        {
          "from": "$.properties.products[*].coupon",
          "to": "$.events[0].params.items[*].coupon"
        },
        {
          "from": "$.properties.products[*].price",
          "to": "$.events[0].params.items[*].price"
        },
        {
          "from": "$.properties.products[*].position",
          "to": "$.events[0].params.items[*].position"
        },
        {
          "from": "$.properties.products[*].quantity",
          "to": "$.events[0].params.items[*].quantity"
        },
        {
          "from": "$.properties.products[*].affiliation",
          "to": "$.events[0].params.items[*].affiliation"
        },
        {
          "from": "$.properties.products[*].currency",
          "to": "$.events[0].params.items[*].currency"
        },
        {
          "from": "$.properties.products[*].discount",
          "to": "$.events[0].params.items[*].discount"
        },
        {
          "from": "$.properties.products[*].item_category2",
          "to": "$.events[0].params.items[*].item_category2"
        },
        {
          "from": "$.properties.products[*].item_category3",
          "to": "$.events[0].params.items[*].item_category3"
        },
        {
          "from": "$.properties.products[*].item_category4",
          "to": "$.events[0].params.items[*].item_category4"
        },
        {
          "from": "$.properties.products[*].item_category5",
          "to": "$.events[0].params.items[*].item_category5"
        },
        {
          "from": "$.properties.products[*].item_list_id",
          "to": "$.events[0].params.items[*].item_list_id"
        },
        {
          "from": "$.properties.products[*].item_list_name",
          "to": "$.events[0].params.items[*].item_list_name"
        },
        {
          "from": "$.properties.products[*].location_id",
          "to": "$.events[0].params.items[*].location_id"
        },
        {
          "from": "$.context.traits",
          "to": "$.user_properties"
        }
      ]
    },
    {
      "rsEventName": "Product Clicked",
      "destEventName": "select_item",
      "eventProperties": [
        { "to": "$.events[0].params.item_list_id", "from": "$.properties.list_id" },
        { "to": "$.events[0].params.item_list_name", "from": "$.properties.category" },
        {
          "from": "$.context.traits",
          "to": "$.user_properties"
        }
      ]
    },
    {
      "rsEventName": "Promotion Viewed",
      "destEventName": "view_promotion",
      "eventProperties": [
        { "to": "$.events[0].params.creative_name", "from": "$.properties.creative_name" },
        { "to": "$.events[0].params.creative_slot", "from": "$.properties.creative_slot" },
        { "to": "$.events[0].params.promotion_name", "from": "$.properties.promotion_name" },
        { "to": "$.events[0].params.promotion_id", "from": "$.properties.promotion_id" },
        {
          "from": "$.properties.products[*].product_id",
          "to": "$.events[0].params.items[*].item_id"
        },
        {
          "from": "$.properties.products[*].name",
          "to": "$.events[0].params.items[*].item_name"
        },
        {
          "from": "$.properties.products[*].coupon",
          "to": "$.events[0].params.items[*].coupon"
        },
        {
          "from": "$.properties.products[*].price",
          "to": "$.events[0].params.items[*].price"
        },
        {
          "from": "$.properties.products[*].position",
          "to": "$.events[0].params.items[*].position"
        },
        {
          "from": "$.properties.products[*].quantity",
          "to": "$.events[0].params.items[*].quantity"
        },
        {
          "from": "$.properties.products[*].affiliation",
          "to": "$.events[0].params.items[*].affiliation"
        },
        {
          "from": "$.properties.products[*].currency",
          "to": "$.events[0].params.items[*].currency"
        },
        {
          "from": "$.properties.products[*].discount",
          "to": "$.events[0].params.items[*].discount"
        },
        {
          "from": "$.properties.products[*].item_category2",
          "to": "$.events[0].params.items[*].item_category2"
        },
        {
          "from": "$.properties.products[*].item_category3",
          "to": "$.events[0].params.items[*].item_category3"
        },
        {
          "from": "$.properties.products[*].item_category4",
          "to": "$.events[0].params.items[*].item_category4"
        },
        {
          "from": "$.properties.products[*].item_category5",
          "to": "$.events[0].params.items[*].item_category5"
        },
        {
          "from": "$.properties.products[*].item_list_id",
          "to": "$.events[0].params.items[*].item_list_id"
        },
        {
          "from": "$.properties.products[*].item_list_name",
          "to": "$.events[0].params.items[*].item_list_name"
        },
        {
          "from": "properties.products[*].location_id",
          "to": "$.events[0].params.items[*].location_id"
        },
        {
          "from": "$.context.traits",
          "to": "$.user_properties"
        }
      ]
    },
    {
      "rsEventName": "Promotion Clicked",
      "destEventName": "select_promotion",
      "eventProperties": [
        { "to": "$.events[0].params.creative_name", "from": "$.properties.creative_name" },
        { "to": "$.events[0].params.creative_slot", "from": "$.properties.creative_slot" },
        { "to": "$.events[0].params.promotion_name", "from": "$.properties.promotion_name" },
        { "to": "$.events[0].params.promotion_id", "from": "$.properties.promotion_id" },
        {
          "from": "$.properties.products[*].product_id",
          "to": "$.events[0].params.items[*].item_id"
        },
        {
          "from": "$.properties.products[*].name",
          "to": "$.events[0].params.items[*].item_name"
        },
        {
          "from": "$.properties.products[*].coupon",
          "to": "$.events[0].params.items[*].coupon"
        },
        {
          "from": "$.properties.products[*].price",
          "to": "$.events[0].params.items[*].price"
        },
        {
          "from": "$.properties.products[*].position",
          "to": "$.events[0].params.items[*].position"
        },
        {
          "from": "$.properties.products[*].quantity",
          "to": "$.events[0].params.items[*].quantity"
        },
        {
          "from": "$.properties.products[*].affiliation",
          "to": "$.events[0].params.items[*].affiliation"
        },
        {
          "from": "$.properties.products[*].currency",
          "to": "$.events[0].params.items[*].currency"
        },
        {
          "from": "$.properties.products[*].discount",
          "to": "$.events[0].params.items[*].discount"
        },
        {
          "from": "$.properties.products[*].item_category2",
          "to": "$.events[0].params.items[*].item_category2"
        },
        {
          "from": "$.properties.products[*].item_category3",
          "to": "$.events[0].params.items[*].item_category3"
        },
        {
          "from": "$.properties.products[*].item_category4",
          "to": "$.events[0].params.items[*].item_category4"
        },
        {
          "from": "$.properties.products[*].item_category5",
          "to": "$.events[0].params.items[*].item_category5"
        },
        {
          "from": "$.properties.products[*].item_list_id",
          "to": "$.events[0].params.items[*].item_list_id"
        },
        {
          "from": "$.properties.products[*].item_list_name",
          "to": "$.events[0].params.items[*].item_list_name"
        },
        {
          "from": "$.properties.products[*].location_id",
          "to": "$.events[0].params.items[*].location_id"
        },
        {
          "from": "$.context.traits",
          "to": "$.user_properties"
        }
      ]
    },
    {
      "rsEventName": "Product Viewed",
      "destEventName": "view_item",
      "eventProperties": [
        { "to": "$.events[0].params.currency", "from": "$.properties.currency" },
        {
          "from": "$.context.traits",
          "to": "$.user_properties"
        }
      ]
    },
    {
      "rsEventName": "Product Added",
      "destEventName": "add_to_cart",
      "eventProperties": [
        { "to": "$.events[0].params.currency", "from": "$.properties.currency" },
        { "to": "$.events[0].params.value", "from": "$.properties.revenue" },
        {
          "from": "$.context.traits",
          "to": "$.user_properties"
        }
      ]
    },
    {
      "rsEventName": "Product Removed",
      "destEventName": "remove_from_cart",
      "eventProperties": [
        { "to": "$.events[0].params.value", "from": "$.properties.revenue" },
        {
          "from": "$.context.traits",
          "to": "$.user_properties"
        }
      ]
    },
    {
      "rsEventName": "Cart Viewed",
      "destEventName": "view_cart",
      "eventProperties": [
        { "to": "$.events[0].params.currency", "from": "$.properties.currency" },
        { "to": "$.events[0].params.value", "from": "$.properties.revenue" },
        {
          "from": "$.properties.products[*].product_id",
          "to": "$.events[0].params.items[*].item_id"
        },
        {
          "from": "$.properties.products[*].name",
          "to": "$.events[0].params.items[*].item_name"
        },
        {
          "from": "$.properties.products[*].coupon",
          "to": "$.events[0].params.items[*].coupon"
        },
        {
          "from": "$.properties.products[*].price",
          "to": "$.events[0].params.items[*].price"
        },
        {
          "from": "$.properties.products[*].position",
          "to": "$.events[0].params.items[*].position"
        },
        {
          "from": "$.properties.products[*].quantity",
          "to": "$.events[0].params.items[*].quantity"
        },
        {
          "from": "$.properties.products[*].affiliation",
          "to": "$.events[0].params.items[*].affiliation"
        },
        {
          "from": "$.properties.products[*].currency",
          "to": "$.events[0].params.items[*].currency"
        },
        {
          "from": "$.properties.products[*].discount",
          "to": "$.events[0].params.items[*].discount"
        },
        {
          "from": "$.properties.products[*].item_category2",
          "to": "$.events[0].params.items[*].item_category2"
        },
        {
          "from": "$.properties.products[*].item_category3",
          "to": "$.events[0].params.items[*].item_category3"
        },
        {
          "from": "$.properties.products[*].item_category4",
          "to": "$.events[0].params.items[*].item_category4"
        },
        {
          "from": "$.properties.products[*].item_category5",
          "to": "$.events[0].params.items[*].item_category5"
        },
        {
          "from": "$.properties.products[*].item_list_id",
          "to": "$.events[0].params.items[*].item_list_id"
        },
        {
          "from": "$.properties.products[*].item_list_name",
          "to": "$.events[0].params.items[*].item_list_name"
        },
        {
          "from": "$.properties.products[*].location_id",
          "to": "$.events[0].params.items[*].location_id"
        },
        {
          "from": "$.context.traits",
          "to": "$.user_properties"
        }
      ]
    },
    {
      "rsEventName": "Product Added to Wishlist",
      "destEventName": "add_to_wishlist",
      "eventProperties": [
        { "to": "$.events[0].params.currency", "from": "$.properties.currency" },
        {
          "from": "$.context.traits",
          "to": "$.user_properties"
        }
      ]
    },
    {
      "rsEventName": "Checkout Started",
      "destEventName": "begin_checkout",
      "eventProperties": [
        { "to": "$.events[0].params.currency", "from": "$.properties.currency" },
        { "to": "$.events[0].params.coupon", "from": "$.properties.coupon" },
        { "to": "$.events[0].params.value", "from": "$.properties.revenue" },
        {
          "from": "$.properties.products[*].product_id",
          "to": "$.events[0].params.items[*].item_id"
        },
        {
          "from": "$.properties.products[*].name",
          "to": "$.events[0].params.items[*].item_name"
        },
        {
          "from": "$.properties.products[*].coupon",
          "to": "$.events[0].params.items[*].coupon"
        },
        {
          "from": "$.properties.products[*].price",
          "to": "$.events[0].params.items[*].price"
        },
        {
          "from": "$.properties.products[*].position",
          "to": "$.events[0].params.items[*].position"
        },
        {
          "from": "$.properties.products[*].quantity",
          "to": "$.events[0].params.items[*].quantity"
        },
        {
          "from": "$.properties.products[*].affiliation",
          "to": "$.events[0].params.items[*].affiliation"
        },
        {
          "from": "$.properties.products[*].currency",
          "to": "$.events[0].params.items[*].currency"
        },
        {
          "from": "$.properties.products[*].discount",
          "to": "$.events[0].params.items[*].discount"
        },
        {
          "from": "$.properties.products[*].item_category2",
          "to": "$.events[0].params.items[*].item_category2"
        },
        {
          "from": "$.properties.products[*].item_category3",
          "to": "$.events[0].params.items[*].item_category3"
        },
        {
          "from": "$.properties.products[*].item_category4",
          "to": "$.events[0].params.items[*].item_category4"
        },
        {
          "from": "properties.products[*].item_category5",
          "to": "$.events[0].params.items[*].item_category5"
        },
        {
          "from": "$.properties.products[*].item_list_id",
          "to": "$.events[0].params.items[*].item_list_id"
        },
        {
          "from": "$.properties.products[*].item_list_name",
          "to": "$.events[0].params.items[*].item_list_name"
        },
        {
          "from": "$.properties.products[*].location_id",
          "to": "$.events[0].params.items[*].location_id"
        },
        {
          "from": "$.context.traits",
          "to": "$.user_properties"
        }
      ]
    },
    {
      "rsEventName": "Order Completed",
      "destEventName": "purchase",
      "eventProperties": [
        { "to": "$.events[0].params.currency", "from": "$.properties.currency" },
        { "to": "$.events[0].params.transaction_id", "from": "$.properties.transaction_id" },
        { "to": "$.events[0].params.coupon", "from": "$.properties.coupon" },
        { "to": "$.events[0].params.shipping", "from": "$.properties.shipping" },
        { "to": "$.events[0].params.tax", "from": "$.properties.tax" },
        { "to": "$.events[0].params.value", "from": "$.properties.revenue" },
        {
          "from": "$.properties.products[*].product_id",
          "to": "$.events[0].params.items[*].item_id"
        },
        {
          "from": "$.properties.products[*].name",
          "to": "$.events[0].params.items[*].item_name"
        },
        {
          "from": "$.properties.products[*].coupon",
          "to": "$.events[0].params.items[*].coupon"
        },
        {
          "from": "$.properties.products[*].price",
          "to": "$.events[0].params.items[*].price"
        },
        {
          "from": "$.properties.products[*].position",
          "to": "$.events[0].params.items[*].position"
        },
        {
          "from": "$.properties.products[*].quantity",
          "to": "$.events[0].params.items[*].quantity"
        },
        {
          "from": "$.properties.products[*].affiliation",
          "to": "$.events[0].params.items[*].affiliation"
        },
        {
          "from": "$.properties.products[*].currency",
          "to": "$.events[0].params.items[*].currency"
        },
        {
          "from": "$.properties.products[*].discount",
          "to": "$.events[0].params.items[*].discount"
        },
        {
          "from": "$.properties.products[*].item_category2",
          "to": "$.events[0].params.items[*].item_category2"
        },
        {
          "from": "$.properties.products[*].item_category3",
          "to": "$.events[0].params.items[*].item_category3"
        },
        {
          "from": "$.properties.products[*].item_category4",
          "to": "$.events[0].params.items[*].item_category4"
        },
        {
          "from": "$.properties.products[*].item_category5",
          "to": "$.events[0].params.items[*].item_category5"
        },
        {
          "from": "$.properties.products[*].item_list_id",
          "to": "$.events[0].params.items[*].item_list_id"
        },
        {
          "from": "$.properties.products[*].item_list_name",
          "to": "$.events[0].params.items[*].item_list_name"
        },
        {
          "from": "$.properties.products[*].location_id",
          "to": "$.events[0].params.items[*].location_id"
        },
        {
          "from": "$.context.traits",
          "to": "$.user_properties"
        }
      ]
    },
    {
      "rsEventName": "Order Refunded",
      "destEventName": "refund",
      "eventProperties": [
        { "to": "$.events[0].params.currency", "from": "$.properties.currency" },
        { "to": "$.events[0].params.transaction_id", "from": "$.properties.transaction_id" },
        { "to": "$.events[0].params.coupon", "from": "$.properties.coupon" },
        { "to": "$.events[0].params.shipping", "from": "$.properties.shipping" },
        { "to": "$.events[0].params.tax", "from": "$.properties.tax" },
        { "to": "$.events[0].params.value", "from": "$.properties.revenue" },
        {
          "from": "$.properties.products[*].product_id",
          "to": "$.events[0].params.items[*].item_id"
        },
        {
          "from": "$.properties.products[*].name",
          "to": "$.events[0].params.items[*].item_name"
        },
        {
          "from": "$.properties.products[*].coupon",
          "to": "$.events[0].params.items[*].coupon"
        },
        {
          "from": "$.properties.products[*].price",
          "to": "$.events[0].params.items[*].price"
        },
        {
          "from": "$.properties.products[*].position",
          "to": "$.events[0].params.items[*].position"
        },
        {
          "from": "$.properties.products[*].quantity",
          "to": "$.events[0].params.items[*].quantity"
        },
        {
          "from": "$.properties.products[*].affiliation",
          "to": "$.events[0].params.items[*].affiliation"
        },
        {
          "from": "$.properties.products[*].currency",
          "to": "$.events[0].params.items[*].currency"
        },
        {
          "from": "$.properties.products[*].discount",
          "to": "$.events[0].params.items[*].discount"
        },
        {
          "from": "$.properties.products[*].item_category2",
          "to": "$.events[0].params.items[*].item_category2"
        },
        {
          "from": "$.properties.products[*].item_category3",
          "to": "$.events[0].params.items[*].item_category3"
        },
        {
          "from": "properties.products[*].item_category4",
          "to": "$.events[0].params.items[*].item_category4"
        },
        {
          "from": "$.properties.products[*].item_category5",
          "to": "$.events[0].params.items[*].item_category5"
        },
        {
          "from": "$.properties.products[*].item_list_id",
          "to": "$.events[0].params.items[*].item_list_id"
        },
        {
          "from": "$.properties.products[*].item_list_name",
          "to": "$.events[0].params.items[*].item_list_name"
        },
        {
          "from": "$.properties.products[*].location_id",
          "to": "$.events[0].params.items[*].location_id"
        },
        {
          "from": "$.context.traits",
          "to": "$.user_properties"
        }
      ]
    },
    {
      "rsEventName": "Product Shared",
      "destEventName": "share",
      "eventProperties": [
        { "to": "$.events[0].params.item_id", "from": "$.properties.product_id" },
        {
          "from": "$.context.traits",
          "to": "$.user_properties"
        }
      ]
    },
    {
      "rsEventName": "Cart Shared",
      "destEventName": "share",
      "eventProperties": [
        { "to": "$.events[0].params.method", "from": "$.properties.share_via" },
        { "to": "$.events[0].params.content_type", "from": "$.properties.content_type" },
        { "to": "$.events[0].params.item_id", "from": "$.properties.cart_id" },
        {
          "from": "$.context.traits",
          "to": "$.user_properties"
        }
      ]
    },
    {
      "rsEventName": "Payment Info Entered",
      "destEventName": "add_payment_info",
      "eventProperties": [
        { "to": "$.events[0].params.currency", "from": "$.properties.currency" },
        { "to": "$.events[0].params.coupon", "from": "$.properties.coupon" },
        { "to": "$.events[0].params.payment_type", "from": "$.properties.payment_method" },
        { "to": "$.events[0].params.value", "from": "$.properties.revenue" },
        {
          "from": "$.properties.products[*].product_id",
          "to": "$.events[0].params.items[*].item_id"
        },
        {
          "from": "$.properties.products[*].name",
          "to": "$.events[0].params.items[*].item_name"
        },
        {
          "from": "$.properties.products[*].coupon",
          "to": "$.events[0].params.items[*].coupon"
        },
        {
          "from": "$.properties.products[*].price",
          "to": "$.events[0].params.items[*].price"
        },
        {
          "from": "$.properties.products[*].position",
          "to": "$.events[0].params.items[*].position"
        },
        {
          "from": "$.properties.products[*].quantity",
          "to": "$.events[0].params.items[*].quantity"
        },
        {
          "from": "$.properties.products[*].affiliation",
          "to": "$.events[0].params.items[*].affiliation"
        },
        {
          "from": "$.properties.products[*].currency",
          "to": "$.events[0].params.items[*].currency"
        },
        {
          "from": "$.properties.products[*].discount",
          "to": "$.events[0].params.items[*].discount"
        },
        {
          "from": "$.properties.products[*].item_category2",
          "to": "$.events[0].params.items[*].item_category2"
        },
        {
          "from": "$.properties.products[*].item_category3",
          "to": "$.events[0].params.items[*].item_category3"
        },
        {
          "from": "$.properties.products[*].item_category4",
          "to": "$.events[0].params.items[*].item_category4"
        },
        {
          "from": "$.properties.products[*].item_category5",
          "to": "$.events[0].params.items[*].item_category5"
        },
        {
          "from": "$.properties.products[*].item_list_id",
          "to": "$.events[0].params.items[*].item_list_id"
        },
        {
          "from": "properties.products[*].item_list_name",
          "to": "$.events[0].params.items[*].item_list_name"
        },
        {
          "from": "$.properties.products[*].location_id",
          "to": "$.events[0].params.items[*].location_id"
        },
        {
          "from": "$.context.traits",
          "to": "$.user_properties"
        }
      ]
    },
    {
      "rsEventName": "Checkout Step Completed",
      "destEventName": "add_shipping_info",
      "eventProperties": [
        { "to": "$.events[0].params.currency", "from": "$.properties.currency" },
        { "to": "$.events[0].params.value", "from": "$.properties.revenue" },
        { "to": "$.events[0].params.coupon", "from": "$.properties.coupon" },
        { "to": "$.events[0].params.shipping_tier", "from": "$.properties.shipping_method" },
        {
          "from": "$.properties.products[*].product_id",
          "to": "$.events[0].params.items[*].item_id"
        },
        {
          "from": "$.properties.products[*].name",
          "to": "$.events[0].params.items[*].item_name"
        },
        {
          "from": "$.properties.products[*].coupon",
          "to": "$.events[0].params.items[*].coupon"
        },
        {
          "from": "$.properties.products[*].price",
          "to": "$.events[0].params.items[*].price"
        },
        {
          "from": "$.properties.products[*].position",
          "to": "$.events[0].params.items[*].position"
        },
        {
          "from": "$.properties.products[*].quantity",
          "to": "$.events[0].params.items[*].quantity"
        },
        {
          "from": "properties.products[*].affiliation",
          "to": "$.events[0].params.items[*].affiliation"
        },
        {
          "from": "$.properties.products[*].currency",
          "to": "$.events[0].params.items[*].currency"
        },
        {
          "from": "$.properties.products[*].discount",
          "to": "$.events[0].params.items[*].discount"
        },
        {
          "from": "$.properties.products[*].item_category2",
          "to": "$.events[0].params.items[*].item_category2"
        },
        {
          "from": "$.properties.products[*].item_category3",
          "to": "$.events[0].params.items[*].item_category3"
        },
        {
          "from": "$.properties.products[*].item_category4",
          "to": "$.events[0].params.items[*].item_category4"
        },
        {
          "from": "$.properties.products[*].item_category5",
          "to": "$.events[0].params.items[*].item_category5"
        },
        {
          "from": "$.properties.products[*].item_list_id",
          "to": "$.events[0].params.items[*].item_list_id"
        },
        {
          "from": "$.properties.products[*].item_list_name",
          "to": "$.events[0].params.items[*].item_list_name"
        },
        {
          "from": "$.properties.products[*].location_id",
          "to": "$.events[0].params.items[*].location_id"
        },
        {
          "from": "$.context.traits",
          "to": "$.user_properties"
        }
      ]
    }
  ]
}
