{
  "uiConfig": {
    "baseTemplate": [
      {
        "title": "Initial setup",
        "note": "Review how this destination is set up",
        "sections": [
          {
            "groups": [
              {
                "title": "Connection Settings",
                "note": "Update your connection settings here",
                "icon": "settings",
                "fields": [
                  {
                    "type": "textInput",
                    "label": "Conversion ID",
                    "configKey": "conversionID",
                    "regex": "(^\\{\\{.*\\|\\|(.*)\\}\\}$)|(^env[.].+)|^AW-(.{0,100})$",
                    "regexErrorMessage": "Invalid Conversion ID",
                    "placeholder": "e.g: AW-41X940"
                  }
                ]
              }
            ]
          },
          {
            "groups": [
              {
                "title": "Connection mode",
                "note": [
                  "Update how you want to route events from your source to destination. ",
                  {
                    "text": "Get help deciding",
                    "link": "https://www.rudderstack.com/docs/destinations/rudderstack-connection-modes/"
                  }
                ],
                "icon": "sliders",
                "fields": []
              }
            ]
          }
        ]
      },
      {
        "title": "Configuration settings",
        "note": "Manage the settings for your destination",
        "sections": [
          {
            "title": "Event settings",
            "note": "Configure your track event settings",
            "groups": [
              {
                "title": "Track settings",
                "note": "Control your track event settings",
                "fields": [
                  {
                    "type": "checkbox",
                    "label": "Track Conversions",
                    "configKey": "trackConversions",
                    "default": true
                  },
                  {
                    "type": "checkbox",
                    "label": "Ecommerce event spec support for track events",
                    "configKey": "v2",
                    "default": true,
                    "note": [
                      "If enabled, track events follow the RudderStack ecommerce spec.",
                      {
                        "text": "Get help deciding",
                        "link": "https://www.rudderstack.com/docs/event-spec/ecommerce-events-spec/"
                      }
                    ]
                  },
                  {
                    "preRequisites": {
                      "fields": [
                        {
                          "configKey": "trackConversions",
                          "value": true
                        }
                      ]
                    },
                    "type": "checkbox",
                    "label": "Enable Conversion Events Filtering",
                    "configKey": "enableConversionEventsFiltering",
                    "note": "If enabled, specified list of events is considered as conversion events else all events is considered as conversion events",
                    "default": false
                  },
                  {
                    "type": "checkbox",
                    "label": "Track Dynamic Remarketing",
                    "configKey": "trackDynamicRemarketing",
                    "default": false
                  },
                  {
                    "preRequisites": {
                      "fields": [
                        {
                          "configKey": "trackDynamicRemarketing",
                          "value": true
                        }
                      ]
                    },
                    "type": "checkbox",
                    "label": "Enable Dynamic Remarketing Events Filtering",
                    "configKey": "enableDynamicRemarketingEventsFiltering",
                    "note": "If enabled, specified list of events is considered as dynamic remarketing events else all the events is considered as dynamic remarketing events",
                    "default": false
                  }
                ]
              }
            ]
          },
          {
            "id": "consentSettings",
            "title": "Consent settings",
            "note": "Configure consent settings for each provider here",
            "icon": "settings",
            "groups": []
          },
          {
            "title": "Other settings",
            "note": "Configure advanced RudderStack features here",
            "icon": "otherSettings",
            "groups": [
              {
                "title": "Client-side event filtering",
                "note": "Decide what events are allowed (allowlisting) and blocked (denylisting)",
                "preRequisites": {
                  "fields": [
                    {
                      "configKey": "connectionMode.web",
                      "value": "device"
                    },
                    {
                      "configKey": "connectionMode.android",
                      "value": "device"
                    },
                    {
                      "configKey": "connectionMode.ios",
                      "value": "device"
                    },
                    {
                      "configKey": "connectionMode.flutter",
                      "value": "device"
                    },
                    {
                      "configKey": "connectionMode.reactnative",
                      "value": "device"
                    }
                  ],
                  "condition": "or"
                },
                "fields": [
                  {
                    "type": "singleSelect",
                    "label": "Choose if you want to turn on events filtering:",
                    "configKey": "eventFilteringOption",
                    "note": "You must select either allowlist or denylist to enable events filtering",
                    "options": [
                      {
                        "label": "Disabled",
                        "value": "disable"
                      },
                      {
                        "label": "Filter via allowlist",
                        "value": "whitelistedEvents"
                      },
                      {
                        "label": "Filter via denylist",
                        "value": "blacklistedEvents"
                      }
                    ],
                    "default": "disable"
                  },
                  {
                    "type": "tagInput",
                    "label": "Allowlisted events",
                    "note": "Input separate events by pressing 'Enter'.\nInput the events you want to allowlist.",
                    "configKey": "whitelistedEvents",
                    "tagKey": "eventName",
                    "placeholder": "e.g: Anonymous page visit",
                    "default": [
                      {
                        "eventName": ""
                      }
                    ],
                    "preRequisites": {
                      "fields": [
                        {
                          "configKey": "eventFilteringOption",
                          "value": "whitelistedEvents"
                        }
                      ]
                    }
                  },
                  {
                    "type": "tagInput",
                    "label": "Denylisted events",
                    "note": "Input separate events by pressing 'Enter'.\nInput the events you want to denylist. ",
                    "configKey": "blacklistedEvents",
                    "tagKey": "eventName",
                    "placeholder": "e.g: Anonymous page visit",
                    "default": [
                      {
                        "eventName": ""
                      }
                    ],
                    "preRequisites": {
                      "fields": [
                        {
                          "configKey": "eventFilteringOption",
                          "value": "blacklistedEvents"
                        }
                      ]
                    }
                  }
                ]
              }
            ]
          }
        ]
      },
      {
        "title": "Event mapping",
        "note": "Map RudderStack to Google Ads events",
        "hideEditIcon": true,
        "sections": [
          {
            "groups": [
              {
                "title": "RudderStack to Google Ads event mappings",
                "fields": [
                  {
                    "type": "redirect",
                    "redirectGroupKey": "customEventMapping",
                    "label": "Event and property mappings",
                    "note": "Map RudderStack events/properties to Google Ads custom events/properties"
                  }
                ]
              }
            ]
          }
        ]
      }
    ],
    "sdkTemplate": {
      "title": "Web SDK settings",
      "note": "not visible in the ui",
      "fields": [
        {
          "type": "checkbox",
          "label": "Allow identify calls for the Google Ads destination",
          "configKey": "allowIdentify",
          "default": false,
          "note": [
            "If enabled, identify calls can be used to define your enhanced conversion fields. ",
            {
              "text": "Get help deciding",
              "link": "https://support.google.com/google-ads/answer/13258081#zippy=%2Cconfigure-your-conversion-page-google-tag/"
            }
          ]
        },
        {
          "type": "checkbox",
          "label": "Send Page View",
          "configKey": "sendPageView",
          "default": true
        },
        {
          "type": "checkbox",
          "label": "Conversion Linker",
          "configKey": "conversionLinker",
          "default": true
        },
        {
          "type": "checkbox",
          "label": "Disable Ad Personalization",
          "configKey": "disableAdPersonalization",
          "default": false
        },
        {
          "type": "checkbox",
          "label": "Send Event Label As conversion for Conversion Events",
          "configKey": "enableConversionLabel",
          "note": "If enabled, all the conversion events label will be kept as conversion else it will be respective event name",
          "default": false
        },
        {
          "type": "checkbox",
          "label": "Allow Enhanced Conversions",
          "configKey": "allowEnhancedConversions",
          "default": false
        },
        {
          "type": "textInput",
          "label": "Default Conversion Label for Page Call",
          "configKey": "defaultPageConversion",
          "regex": "(^\\{\\{.*\\|\\|(.*)\\}\\}$)|(^env[.].+)|^(.{0,100})$",
          "regexErrorMessage": "Invalid Default Conversion Label",
          "placeholder": "e.g: bpg3CMiIjXXXELXBp8wC"
        },
        {
          "preRequisites": {
            "fields": [
              {
                "configKey": "trackConversions",
                "value": "true"
              },
              {
                "configKey": "enableConversionEventsFiltering",
                "value": true
              }
            ]
          },
          "type": "tagInput",
          "label": "Events to Track Conversions",
          "configKey": "eventsToTrackConversions",
          "tagKey": "eventName"
        },
        {
          "preRequisites": {
            "fields": [
              {
                "configKey": "trackDynamicRemarketing",
                "value": true
              },
              {
                "configKey": "enableDynamicRemarketingEventsFiltering",
                "value": true
              }
            ]
          },
          "type": "tagInput",
          "label": "Events to Track Dynamic Remarketing",
          "value": "eventsToTrackDynamicRemarketing",
          "tagKey": "consent"
        }
      ]
    },
    "consentSettingsTemplate": {
      "title": "Consent settings",
      "note": "not visible in the ui",
      "fields": [
        {
          "type": "tagInput",
          "label": "OneTrust consent category IDs",
          "note": "Input your OneTrust category IDs by pressing 'Enter' after each entry. The support for category names is deprecated. We recommend using the category IDs instead of the names as IDs are unique and less likely to change over time, making them a more reliable choice.",
          "configKey": "oneTrustCookieCategories",
          "tagKey": "oneTrustCookieCategory",
          "placeholder": "e.g: C0001",
          "default": [
            {
              "oneTrustCookieCategory": ""
            }
          ],
          "preRequisites": {
            "featureFlags": [
              {
                "configKey": "AMP_enable-gcm",
                "value": false
              },
              {
                "configKey": "AMP_enable-gcm"
              }
            ],
            "featureFlagsCondition": "or"
          }
        },
        {
          "type": "tagInput",
          "label": "Ketch consent purpose IDs",
          "note": "Input your Ketch consent purpose IDs by pressing 'Enter' after each entry.",
          "configKey": "ketchConsentPurposes",
          "tagKey": "purpose",
          "placeholder": "e.g: marketing",
          "default": [
            {
              "purpose": ""
            }
          ],
          "preRequisites": {
            "featureFlags": [
              {
                "configKey": "AMP_enable-gcm",
                "value": false
              },
              {
                "configKey": "AMP_enable-gcm"
              }
            ],
            "featureFlagsCondition": "or"
          }
        },
        {
          "type": "dynamicCustomForm",
          "configKey": "consentManagement",
          "default": [],
          "rowFields": [
            {
              "type": "singleSelect",
              "label": "Consent management provider",
              "configKey": "provider",
              "options": [
                {
                  "label": "Custom",
                  "value": "custom"
                },
                {
                  "label": "Ketch",
                  "value": "ketch"
                },
                {
                  "label": "OneTrust",
                  "value": "oneTrust"
                }
              ],
              "default": "oneTrust",
              "required": true
            },
            {
              "type": "singleSelect",
              "label": "the required consent logic",
              "configKey": "resolutionStrategy",
              "options": [
                {
                  "label": "AND",
                  "value": "and"
                },
                {
                  "label": "OR",
                  "value": "or"
                }
              ],
              "required": true,
              "variant": "badge",
              "preRequisites": {
                "fields": [
                  {
                    "configKey": "provider",
                    "value": "custom"
                  }
                ]
              }
            },
            {
              "type": "tagInput",
              "label": "Enter consent category ID’s",
              "note": "Input your consent category IDs by pressing ‘Enter’ after each entry. The support for category names is deprecated. We recommend using the category IDs instead of the names as IDs are unique and less likely to change over time, making them a more reliable choice.",
              "configKey": "consents",
              "tagKey": "consent",
              "placeholder": "e.g: Marketing",
              "default": [
                {
                  "consent": ""
                }
              ]
            }
          ],
          "preRequisites": {
            "featureFlags": [
              {
                "configKey": "AMP_enable-gcm",
                "value": true
              }
            ]
          }
        }
      ]
    },
    "redirectGroups": {
      "customEventMapping": {
        "tabs": [
          {
            "name": "Event mapping",
            "fields": [
              {
                "type": "mapping",
                "label": "Mapping to trigger the Google Ads events for the respective events set here.",
                "configKey": "eventMappingFromConfig",
                "default": [],
                "columns": [
                  {
                    "type": "textInput",
                    "key": "from",
                    "label": "RudderStack Event",
                    "placeholder": "e.g: Product Searched"
                  },
                  {
                    "type": "singleSelect",
                    "key": "to",
                    "label": "Google Ads Event",
                    "options": [
                      {
                        "name": "Lead",
                        "value": "Lead"
                      },
                      {
                        "name": "PageVisit",
                        "value": "PageVisit"
                      },
                      {
                        "name": "ViewCategory",
                        "value": "ViewCategory"
                      },
                      {
                        "name": "SignUp",
                        "value": "Signup"
                      },
                      {
                        "name": "WatchVideo",
                        "value": "WatchVideo"
                      },
                      {
                        "name": "Checkout",
                        "value": "Checkout"
                      },
                      {
                        "name": "Search",
                        "value": "Search"
                      },
                      {
                        "name": "AddToCart",
                        "value": "AddToCart"
                      },
                      {
                        "name": "Purchase",
                        "value": "purchase"
                      }
                    ]
                  }
                ]
              }
            ]
          },
          {
            "name": "Configure Page Load Conversion",
            "fields": [
              {
                "type": "mapping",
                "label": "Map the page events conversions",
                "configKey": "pageLoadConversions",
                "default": [],
                "columns": [
                  {
                    "type": "textInput",
                    "key": "conversionLabel",
                    "label": "Conversion Label",
                    "placeholder": "e.g: Product Searched"
                  },
                  {
                    "type": "textInput",
                    "key": "name",
                    "label": "Name",
                    "placeholder": "e.g: name"
                  }
                ]
              }
            ]
          },
          {
            "name": "Configure Click Event Conversion",
            "fields": [
              {
                "type": "mapping",
                "label": "Map the page events conversions",
                "configKey": "clickEventConversions",
                "default": [],
                "columns": [
                  {
                    "type": "textInput",
                    "key": "conversionLabel",
                    "label": "Conversion Label",
                    "placeholder": "e.g: bpg3CMiIjXXXELXBp8wC"
                  },
                  {
                    "type": "textInput",
                    "key": "name",
                    "label": "Name",
                    "placeholder": "e.g: name"
                  }
                ]
              }
            ]
          }
        ]
      },
      "legacyConversionMapping": {
        "fields": [
          {
            "type": "mapping",
            "label": "Map your RudderStack Events to Facebook Pixel IDs",
            "note": "Input the RudderStack event to map to Facebook's pixel id.",
            "configKey": "legacyConversionPixelId",
            "default": [],
            "columns": [
              {
                "type": "textInput",
                "key": "from",
                "label": "Event name",
                "placeholder": "e.g: Product Searched"
              },
              {
                "type": "textInput",
                "key": "to",
                "label": "Pixel ID",
                "placeholder": "e.g: 234567654654"
              }
            ]
          }
        ]
      }
    }
  }
}
