{
  "uiConfig": {
    "baseTemplate": [
      {
        "title": "Initial setup",
        "note": "Review how this destination is set up",
        "sections": [
          {
            "groups": [
              {
                "title": "Connection settings",
                "note": "Update your connection settings here",
                "icon": "settings",
                "fields": [
                  {
                    "type": "textInput",
                    "label": "Munchkin Account Id",
                    "configKey": "accountId",
                    "regex": "^(.{0,100})$",
                    "regexErrorMessage": "Invalid Munchkin Account Id",
                    "required": true,
                    "note": "Your Marketo Accound ID from Admin settings section",
                    "placeholder": "e.g: 585-AXP-446"
                  },
                  {
                    "type": "textInput",
                    "label": "Client ID",
                    "configKey": "clientId",
                    "regex": "^(.{0,100})$",
                    "regexErrorMessage": "Invalid Client ID",
                    "required": true,
                    "placeholder": "e.g: 53b1934e-51dd-4599-b24b-92612c71515f",
                    "note": "Your REST API Client ID"
                  },
                  {
                    "type": "textInput",
                    "label": "Client Secret",
                    "configKey": "clientSecret",
                    "regex": "^(.{0,100})$",
                    "regexErrorMessage": "Invalid Client Secret",
                    "required": true,
                    "placeholder": "e.g: oxzXtNhcuw9YGsdhplKUeEMi8765dsfw",
                    "secret": true,
                    "note": "Your REST API Client Secret"
                  }
                ]
              }
            ]
          },
          {
            "groups": [
              {
                "title": "Connection mode",
                "note": [
                  "Update how you want to route events from your source to destination. ",
                  {
                    "text": "Get help deciding",
                    "link": "https://www.rudderstack.com/docs/destinations/rudderstack-connection-modes/"
                  }
                ],
                "icon": "sliders",
                "fields": []
              }
            ]
          }
        ]
      },
      {
        "title": "Configuration settings",
        "note": "Manage the settings for your destination",
        "sections": [
          {
            "groups": [
              {
                "title": "Custom Activity Settings",
                "icon": "settings",
                "fields": [
                  {
                    "type": "checkbox",
                    "label": "Track anonymous events",
                    "configKey": "trackAnonymousEvents",
                    "default": false,
                    "note": "If turned on, you need to send userId with every track call"
                  },
                  {
                    "type": "checkbox",
                    "label": "Create Lead if it does not exist",
                    "configKey": "createIfNotExist",
                    "default": true,
                    "note": "If turned on, we will create a new lead if the user is not present"
                  }
                ]
              },
              {
                "title": "OneTrust cookie consent settings",
                "note": [
                  "Enter your OneTrust category names if you have them configured. ",
                  {
                    "text": "Learn more ",
                    "link": "https://www.rudderstack.com/docs/sources/event-streams/sdks/rudderstack-javascript-sdk/onetrust-consent-manager/"
                  },
                  "about RudderStack’s OneTrust Consent Manager feature."
                ],
                "fields": [
                  {
                    "type": "tagInput",
                    "label": "Cookie category name",
                    "note": "Input your OneTrust category names by pressing ‘Enter’ after each entry",
                    "configKey": "oneTrustCookieCategories",
                    "tagKey": "oneTrustCookieCategory",
                    "placeholder": "e.g: Credit card visit",
                    "default": [
                      {
                        "oneTrustCookieCategory": ""
                      }
                    ]
                  }
                ]
              }
            ]
          }
        ]
      },
      {
        "title": "Mappings",
        "hideEditIcon": true,
        "sections": [
          {
            "groups": [
              {
                "title": "Rudderstack to Marketo Event Mappings",
                "fields": [
                  {
                    "type": "redirect",
                    "redirectGroupKey": "eventMapping",
                    "label": "Event and property mappings",
                    "note": "Map RudderStack events/properties to Marketo custom Activity ID/Primary Key"
                  },
                  {
                    "type": "redirect",
                    "redirectGroupKey": "fieldMapping",
                    "label": "Merchandising",
                    "note": "Set merchandising related settings"
                  }
                ]
              }
            ]
          }
        ]
      }
    ],
    "redirectGroups": {
      "eventMapping": {
        "tabs": [
          {
            "name": "Custom events",
            "fields": [
              {
                "type": "mapping",
                "label": "Map events to Marketo Activity ID and Primary Key",
                "note": [
                  "You can find the Activity ID in your Admin section under Custom Activity on your Marketo dashboard",
                  "Map your event name to the desired primary key field."
                ],
                "configKey": "rudderEventsMapping",
                "default": [],
                "columns": [
                  {
                    "type": "textInput",
                    "key": "event",
                    "label": "RudderStack Event Name",
                    "placeholder": "e.g: Product Searched"
                  },
                  {
                    "type": "textInput",
                    "key": "marketoPrimarykey",
                    "label": "Marketo Primary Key",
                    "placeholder": "e.g: name"
                  },
                  {
                    "type": "textInput",
                    "key": "marketoActivityId",
                    "label": "Activity ID",
                    "placeholder": "e.g: 100001"
                  }
                ]
              }
            ]
          }
        ]
      },
      "fieldMapping": {
        "tabs": [
          {
            "name": "Custom Field",
            "fields": [
              {
                "type": "mapping",
                "label": "Map your traits to Marketo custom fields",
                "note": "Map your user traits to your desired custom field's api name.",
                "configKey": "leadTraitMapping",
                "default": [],
                "columns": [
                  {
                    "type": "textInput",
                    "key": "from",
                    "label": "Traits name",
                    "placeholder": "e.g: leadScore"
                  },
                  {
                    "type": "textInput",
                    "key": "to",
                    "label": "Custom field api name",
                    "placeholder": "e.g: customLeadScore"
                  }
                ]
              }
            ]
          },
          {
            "name": "Custom Field",
            "fields": [
              {
                "type": "mapping",
                "label": "Map your event properties to Marketo custom activity's field",
                "note": "The configKey passed in Event Property name here will be sent in the corresponding mapped field.",
                "configKey": "customActivityPropertyMap",
                "default": [],
                "columns": [
                  {
                    "type": "textInput",
                    "key": "from",
                    "label": "Event Property",
                    "placeholder": "e.g: name"
                  },
                  {
                    "type": "textInput",
                    "key": "to",
                    "label": "Marketo Custom Activity field",
                    "placeholder": "e.g: productName"
                  }
                ]
              }
            ]
          }
        ]
      }
    }
  }
}
