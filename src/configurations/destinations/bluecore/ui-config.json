{
  "uiConfig": {
    "baseTemplate": [
      {
        "title": "Initial setup",
        "note": "Review how this destination is set up",
        "sections": [
          {
            "groups": [
              {
                "title": "Connection Settings",
                "note": "Update your connection settings here",
                "icon": "settings",
                "fields": [
                  {
                    "type": "textInput",
                    "label": "Bluecore namespace",
                    "note": "Get it from the url https://app.bluecore.com/admin/dashboard/<namespace>",
                    "configKey": "bluecoreNamespace",
                    "regex": "(^\\{\\{.*\\|\\|(.*)\\}\\}$)|(^env[.].+)|^(.{1,100})$",
                    "secret": true,
                    "regexErrorMessage": "Invalid Namespace",
                    "placeholder": "e.g. dummy_namespace"
                  }
                ]
              }
            ]
          },
          {
            "groups": [
              {
                "title": "Connection mode",
                "note": [
                  "Update how you want to route events from your source to destination. ",
                  {
                    "text": "Get help deciding",
                    "link": "https://www.rudderstack.com/docs/destinations/rudderstack-connection-modes/"
                  }
                ],
                "icon": "sliders",
                "fields": []
              }
            ]
          }
        ]
      },
      {
        "title": "Configuration settings",
        "note": "Manage the settings for your destination",
        "sections": [
          {
            "id": "consentSettings",
            "title": "Consent settings",
            "note": "Configure consent settings for each provider here",
            "icon": "settings",
            "groups": [
              {
                "title": "OneTrust consent settings",
                "note": [
                  "Enter your OneTrust consent category IDs if you have them configured. The support for category names is deprecated. We recommend using the category IDs instead of the names as IDs are unique and less likely to change over time, making them a more reliable choice.",
                  {
                    "text": "Learn more ",
                    "link": "https://www.rudderstack.com/docs/sources/event-streams/sdks/consent-manager/onetrust/"
                  },
                  "about RudderStack's OneTrust Consent Management feature."
                ],
                "fields": [
                  {
                    "type": "tagInput",
                    "label": "Consent category IDs",
                    "note": "Input your OneTrust category IDs by pressing 'Enter' after each entry.",
                    "configKey": "oneTrustCookieCategories",
                    "tagKey": "oneTrustCookieCategory",
                    "placeholder": "e.g: C0001",
                    "default": [
                      {
                        "oneTrustCookieCategory": ""
                      }
                    ]
                  }
                ],
                "preRequisites": {
                  "featureFlags": [
                    {
                      "configKey": "AMP_enable-gcm",
                      "value": false
                    },
                    {
                      "configKey": "AMP_enable-gcm"
                    }
                  ],
                  "featureFlagsCondition": "or"
                }
              },
              {
                "title": "Ketch consent settings",
                "note": [
                  "Enter your Ketch consent purpose IDs if you have them configured.",
                  {
                    "text": "Learn more ",
                    "link": "https://www.rudderstack.com/docs/sources/event-streams/sdks/consent-manager/ketch/"
                  },
                  "about RudderStack's Ketch Consent Management feature."
                ],
                "fields": [
                  {
                    "type": "tagInput",
                    "label": "Consent purpose IDs",
                    "note": "Input your Ketch consent purpose IDs by pressing 'Enter' after each entry.",
                    "configKey": "ketchConsentPurposes",
                    "tagKey": "purpose",
                    "placeholder": "e.g: marketing",
                    "default": [
                      {
                        "purpose": ""
                      }
                    ]
                  }
                ],
                "preRequisites": {
                  "featureFlags": [
                    {
                      "configKey": "AMP_enable-gcm",
                      "value": false
                    },
                    {
                      "configKey": "AMP_enable-gcm"
                    }
                  ],
                  "featureFlagsCondition": "or"
                }
              }
            ]
          },
          {
            "title": "Other settings",
            "note": "Configure advanced RudderStack features here",
            "icon": "otherSettings",
            "groups": [
              {
                "title": "OneTrust cookie consent settings",
                "note": [
                  "Enter your OneTrust category names if you have them configured. ",
                  {
                    "text": "Learn more ",
                    "link": "https://www.rudderstack.com/docs/sources/event-streams/sdks/rudderstack-javascript-sdk/onetrust-consent-manager/"
                  },
                  "about RudderStack’s OneTrust Consent Manager feature."
                ],
                "fields": [
                  {
                    "type": "tagInput",
                    "label": "Cookie category name",
                    "note": "Input your OneTrust category names by pressing ‘Enter’ after each entry",
                    "configKey": "oneTrustCookieCategories",
                    "tagKey": "oneTrustCookieCategory",
                    "placeholder": "e.g: Credit card visit",
                    "default": [
                      {
                        "oneTrustCookieCategory": ""
                      }
                    ]
                  }
                ]
              }
            ]
          }
        ]
      },
      {
        "title": "Mappings",
        "hideEditIcon": true,
        "sections": [
          {
            "groups": [
              {
                "title": "Rudderstack to Bluecore Event Mappings",
                "fields": [
                  {
                    "type": "redirect",
                    "redirectGroupKey": "bluecoreEventMapping",
                    "label": "Event mappings"
                  }
                ]
              }
            ]
          }
        ]
      }
    ],
    "redirectGroups": {
      "bluecoreEventMapping": {
        "fields": [
          {
            "type": "mapping",
            "label": "Mapping to trigger the Rudderstack events with standard Bluecore events",
            "configKey": "eventsMapping",
            "default": [],
            "columns": [
              {
                "type": "textInput",
                "key": "from",
                "label": "Event Name",
                "placeholder": "e.g: Custom Purchase Event"
              },
              {
                "type": "singleSelect",
                "key": "to",
                "label": "Bluecore Standard Ecommerce Event",
                "placeholder": "e.g: purchase",
                "options": [
                  {
                    "name": "Viewed Product",
                    "value": "viewed_product"
                  },
                  {
                    "name": "Search",
                    "value": "search"
                  },
                  {
                    "name": "Add to Cart",
                    "value": "add_to_cart"
                  },
                  {
                    "name": "Remove From Cart",
                    "value": "remove_from_cart"
                  },
                  {
                    "name": "Wishlist",
                    "value": "wishlist"
                  },
                  {
                    "name": "Purchase",
                    "value": "purchase"
                  }
                ]
              }
            ]
          }
        ]
      }
    },
    "sdkTemplate": {
      "title": "Web SDK settings",
      "note": "not visible in the ui",
      "fields": []
    }
  }
}
