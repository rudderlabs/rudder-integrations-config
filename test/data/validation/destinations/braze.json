[
  {
    "config": {
      "appKey": "63617b7e-909e-XXXX-va38-e1bcb249b2ff",
      "androidApiKey": "63617b7e-909e-XXXX-va38-e1bcb249b2ff",
      "iOSApiKey": "63617b7e-909e-XXXX-va38-e1bcb249b2ff",
      "webApiKey": "63617b7e-909e-XXXX-va38-e1bcb249b2ff",
      "restApiKey": "b40db80d-12a9-XXXX-7822-5c6bv1be983a",
      "dataCenter": "US-06",
      "usePlatformSpecificApiKeys": true,
      "connectionMode": {
        "android": "hybrid",
        "androidKotlin": "hybrid",
        "ios": "device",
        "web": "cloud"
      }
    },
    "result": true
  },
  {
    "config": {
      "dataCenter": "EU-01",
      "usePlatformSpecificApiKeys": true,
      "useNativeSDK": {
        "android": false,
        "androidKotlin": false,
        "iosSwift": false
      },
      "connectionMode": {
        "android": "cloud",
        "androidKotlin": "cloud",
        "ios": "device",
        "web": "cloud"
      }
    },
    "result": false,
    "err": [
      " must have required property 'restApiKey'",
      " must match \"then\" schema",
      " must have required property 'iOSApiKey'",
      " must match \"then\" schema"
    ]
  },
  {
    "config": {
      "appKey": "63617b7e-909e-XXXX-va38-e1bcb249b2ff",
      "dataCenter": "EU-01",
      "usePlatformSpecificApiKeys": false,
      "connectionMode": {
        "android": "cloud",
        "androidKotlin": "cloud",
        "ios": "device",
        "web": "cloud"
      },
      "useNativeSDK": {
        "android": false,
        "androidKotlin": false,
        "iosSwift": false
      }
    },
    "result": false,
    "err": [" must have required property 'restApiKey'", " must match \"then\" schema"]
  },
  {
    "config": {
      "appKey": "cdd7adcd-a3c6-XXXX-sb52-628b419f902b",
      "androidApiKey": "cdd7adcd-a3c6-XXXX-sb52-628b419f902b",
      "iOSApiKey": "cdd7adcd-a3c6-XXXX-sb52-628b419f902b",
      "webApiKey": "cdd7adcd-a3c6-XXXX-sb52-628b419f902b",
      "restApiKey": "cf6727f6-sb52-XXXX-beeb-be4fb5z5fa6f",
      "usePlatformSpecificApiKeys": true,
      "dataCenter": "EU-01",
      "useNativeSDK": {
        "web": true
      },
      "connectionMode": {
        "android": "hybrid",
        "androidKotlin": "hybrid",
        "ios": "device",
        "web": "device"
      },
      "blacklistedEvents": [
        {
          "eventName": "braze blacklisted event"
        }
      ],
      "whitelistedEvents": [
        {
          "eventName": "whitelisted call"
        }
      ]
    },
    "result": true
  },
  {
    "config": {
      "appKey": "cdd7adcd-a3c6-XXXX-sb52-628b419f902b",
      "restApiKey": "cf6727f6-sb52-XXXX-beeb-be4fb5z5fa6f",
      "usePlatformSpecificApiKeys": false,
      "dataCenter": {
        "name": "EU-01"
      },
      "useNativeSDK": {
        "web": false
      },
      "connectionMode": {
        "android": "hybrid",
        "androidKotlin": "hybrid",
        "ios": "hybrid",
        "web": "cloud"
      },
      "blacklistedEvents": [],
      "whitelistedEvents": []
    },
    "result": false,
    "err": ["dataCenter must be string", "dataCenter must be equal to one of the allowed values"]
  },
  {
    "config": {
      "appKey": "78100f65-3e76-XXXX-ba20-425b2fd81a13",
      "androidApiKey": "78100f65-3e76-XXXX-ba20-425b2fd81a13",
      "iOSApiKey": "78100f65-3e76-XXXX-ba20-425b2fd81a13",
      "webApiKey": "78100f65-3e76-XXXX-ba20-425b2fd81a13",
      "restApiKey": "78100f65-3e76-XXXX-ba20-425b2fd81a13",
      "dataCenter": "EU-01",
      "usePlatformSpecificApiKeys": false
    },
    "result": true
  },
  {
    "config": {
      "appKey": "78100f65-3e76-XXXX-ba20-425b2fd81a13",
      "restApiKey": "78100f65-3e76-XXXX-ba20-425b2fd81a1378100f65-3e76-XXXX-ba20-425b2fd81a1378100f65-3e76-XXXX-ba20-425b2fd81a133e76-XXXX-ba20-425b2fd81a133e76-XXXX-ba20-425b2fd81a133e76-XXXX-ba20-425b2fd81a13464d-ba20-425b2fd81a13464d-ba20-425b2fd81a13464d-ba20-425b2fd81a13",
      "dataCenter": "EU-01",
      "usePlatformSpecificApiKeys": false,
      "connectionMode": {
        "web": "cloud"
      }
    },
    "result": false,
    "err": [
      "restApiKey must match pattern \"(^\\{\\{.*\\|\\|(.*)\\}\\}$)|(^env[.].+)|^(.{1,100})$\"",
      " must match \"then\" schema"
    ]
  },
  {
    "config": {
      "appKey": "78100f65-3e76-XXXX-ba20-425b2fd81a13",
      "restApiKey": "b40db80d-12a9-XXXX-7822-5c6bv1be983a",
      "dataCenter": "EU-01",
      "usePlatformSpecificApiKeys": false,
      "whitelistedEvents": [],
      "blacklistedEvents": [
        {
          "eventName": "12345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890"
        }
      ]
    },
    "result": false,
    "err": [
      "blacklistedEvents.0.eventName must match pattern \"(^\\{\\{.*\\|\\|(.*)\\}\\}$)|(^env[.].+)|^(.{0,100})$\""
    ]
  },
  {
    "config": {
      "appKey": "78100f65-3e76-XXXX-ba20-425b2fd81a13",
      "androidApiKey": "78100f65-3e76-XXXX-ba20-425b2fd81a13",
      "iOSApiKey": "78100f65-3e76-XXXX-ba20-425b2fd81a13",
      "webApiKey": "78100f65-3e76-XXXX-ba20-425b2fd81a13",
      "restApiKey": "b40db80d-12a9-XXXX-7822-5c6bv1be983a",
      "dataCenter": "EU-01",
      "whitelistedEvents": [],
      "blacklistedEvents": [
        {
          "eventName": "123456789012345678901267890123456789012345678901234567890123456789"
        }
      ]
    },
    "result": true
  },
  {
    "config": {
      "appKey": "78100f65-3e76-XXXX-ba20-425b2fd81a13",
      "restApiKey": "b40db80d-12a9-XXXX-7822-5c6bv1be983a",
      "dataCenter": "US-11",
      "usePlatformSpecificApiKeys": true,
      "whitelistedEvents": [],
      "blacklistedEvents": [],
      "connectionMode": {
        "android": "hybrid",
        "androidKotlin": "hybrid"
      }
    },
    "result": false,
    "err": [
      " must have required property 'androidApiKey'",
      " must match \"then\" schema",
      "dataCenter must be equal to one of the allowed values"
    ]
  },
  {
    "config": {
      "appKey": "78100f65-3e76-XXXX-ba20-425b2fd81a13",
      "androidApiKey": "78100f65-3e76-XXXX-ba20-425b2fd81a13",
      "iOSApiKey": "78100f65-3e76-XXXX-ba20-425b2fd81a13",
      "webApiKey": "78100f65-3e76-XXXX-ba20-425b2fd81a13",
      "restApiKey": "b40db80d-12a9-XXXX-7822-5c6bv1be983a",
      "usePlatformSpecificApiKeys": true,
      "dataCenter": "US-01",
      "whitelistedEvents": [],
      "blacklistedEvents": [],
      "connectionMode": {
        "web": "hybrid"
      }
    },
    "result": true
  },
  {
    "config": {
      "appKey": "78100f65-3e76-XXXX-ba20-425b2fd81a13",
      "androidApiKey": "78100f65-3e76-XXXX-ba20-425b2fd81a13",
      "iOSApiKey": "78100f65-3e76-XXXX-ba20-425b2fd81a13",
      "webApiKey": "78100f65-3e76-XXXX-ba20-425b2fd81a13",
      "restApiKey": "b40db80d-12a9-XXXX-7822-5c6bv1be983a",
      "usePlatformSpecificApiKeys": false,
      "dataCenter": "US-01",
      "sendPurchaseEventWithExtraProperties": true,
      "whitelistedEvents": [],
      "blacklistedEvents": [],
      "connectionMode": {
        "web": "cloud"
      }
    },
    "result": true
  },
  {
    "config": {
      "appKey": "78100f65-3e76-XXXX-ba20-425b2fd81a13",
      "androidApiKey": "78100f65-3e76-XXXX-ba20-425b2fd81a13",
      "iOSApiKey": "78100f65-3e76-XXXX-ba20-425b2fd81a13",
      "webApiKey": "78100f65-3e76-XXXX-ba20-425b2fd81a13",
      "restApiKey": "b40db80d-12a9-XXXX-7822-5c6bv1be983a",
      "usePlatformSpecificApiKeys": false,
      "dataCenter": "US-01",
      "sendPurchaseEventWithExtraProperties": false,
      "whitelistedEvents": [],
      "blacklistedEvents": [],
      "connectionMode": {
        "web": "cloud"
      }
    },
    "result": true
  },
  {
    "config": {
      "appKey": "78100f65-3e76-XXXX-ba20-425b2fd81a1378100f65-3e76-XXXX-ba20-425b2fd81a1378100f65-3e76-XXXX-ba20-425b2fd81a133e76-XXXX-ba20-425b2fd81a133e76-XXXX-ba20-425b2fd81a133e76-XXXX-ba20-425b2fd81a13464d-ba20-425b2fd81a13464d-ba20-425b2fd81a13464d-ba20-425b2fd81a13",
      "restApiKey": "78100f65-3e76-XXXX-ba20-425b2fd81a13",
      "dataCenter": "EU-01",
      "usePlatformSpecificApiKeys": false,
      "connectionMode": {
        "android": "device"
      }
    },
    "result": false,
    "err": [
      "appKey must match pattern \"(^\\{\\{.*\\|\\|(.*)\\}\\}$)|(^env[.].+)|^(.{1,100})$\"",
      " must match \"then\" schema"
    ]
  },
  {
    "config": {
      "appKey": "78100f65-3e76-XXXX-ba20-425b2fd81a1378100f65-3e76-XXXX-ba20-425b2fd81a1378100f65-3e76-XXXX-ba20-425b2fd81a133e76-XXXX-ba20-425b2fd81a133e76-XXXX-ba20-425b2fd81a133e76-XXXX-ba20-425b2fd81a13464d-ba20-425b2fd81a13464d-ba20-425b2fd81a13464d-ba20-425b2fd81a13",
      "restApiKey": "78100f65-3e76-XXXX-ba20-425b2fd81a1378100f65-3e76-XXXX-ba20-425b2fd81a1378100f65-3e76-XXXX-ba20-425b2fd81a133e76-XXXX-ba20-425b2fd81a133e76-XXXX-ba20-425b2fd81a133e76-XXXX-ba20-425b2fd81a13464d-ba20-425b2fd81a13464d-ba20-425b2fd81a13464d-ba20-425b2fd81a13",
      "dataCenter": "EU-01",
      "usePlatformSpecificApiKeys": false,
      "connectionMode": {
        "android": "hybrid"
      }
    },
    "result": false,
    "err": [
      "restApiKey must match pattern \"(^\\{\\{.*\\|\\|(.*)\\}\\}$)|(^env[.].+)|^(.{1,100})$\"",
      " must match \"then\" schema",
      "appKey must match pattern \"(^\\{\\{.*\\|\\|(.*)\\}\\}$)|(^env[.].+)|^(.{1,100})$\"",
      " must match \"then\" schema"
    ]
  },
  {
    "config": {
      "appKey": "",
      "restApiKey": "78100f65-3e76-XXXX-ba20-425b2fd81a1378100f65-3e76-XXXX-ba20-425b2fd81a1378100f65-3e76-XXXX-ba20-425b2fd81a133e76-XXXX-ba20-425b2fd81a133e76-XXXX-ba20-425b2fd81a133e76-XXXX-ba20-425b2fd81a13464d-ba20-425b2fd81a13464d-ba20-425b2fd81a13464d-ba20-425b2fd81a13",
      "dataCenter": "EU-01",
      "usePlatformSpecificApiKeys": false,
      "connectionMode": {
        "web": "hybrid"
      }
    },
    "result": false,
    "err": [
      "restApiKey must match pattern \"(^\\{\\{.*\\|\\|(.*)\\}\\}$)|(^env[.].+)|^(.{1,100})$\"",
      " must match \"then\" schema",
      "appKey must match pattern \"(^\\{\\{.*\\|\\|(.*)\\}\\}$)|(^env[.].+)|^(.{1,100})$\"",
      " must match \"then\" schema"
    ]
  },
  {
    "config": {
      "appKey": "",
      "restApiKey": "78100f65-3e76-XXXX-ba20-425b2fd81a1378100f65-3e76-XXXX-ba20-425b2fd81a1378100f65-3e76-XXXX-ba20-425b2fd81a133e76-XXXX-ba20-425b2fd81a133e76-XXXX-ba20-425b2fd81a133e76-XXXX-ba20-425b2fd81a13464d-ba20-425b2fd81a13464d-ba20-425b2fd81a13464d-ba20-425b2fd81a13",
      "dataCenter": "EU-01",
      "usePlatformSpecificApiKeys": false,
      "connectionMode": {
        "unity": "cloud"
      }
    },
    "result": false,
    "err": [
      "restApiKey must match pattern \"(^\\{\\{.*\\|\\|(.*)\\}\\}$)|(^env[.].+)|^(.{1,100})$\"",
      " must match \"then\" schema"
    ]
  },
  {
    "config": {
      "appKey": "",
      "restApiKey": "78100f65-3e76-XXXX-ba20-425b2fd81a1378100f65-3e76-XXXX-ba20-425b2fd81a1378100f65-3e76-XXXX-ba20-425b2fd81a133e76-XXXX-ba20-425b2fd81a133e76-XXXX-ba20-425b2fd81a133e76-XXXX-ba20-425b2fd81a13464d-ba20-425b2fd81a13464d-ba20-425b2fd81a13464d-ba20-425b2fd81a13",
      "dataCenter": "EU-01",
      "usePlatformSpecificApiKeys": false,
      "connectionMode": {
        "unity": "device"
      }
    },
    "result": false,
    "err": ["connectionMode.unity must be equal to one of the allowed values"]
  },
  {
    "testTitle": "With valid multiple consent management providers config",
    "config": {
      "appKey": "63617b7e-909e-XXXX-va38-e1bcb249b2ff",
      "androidApiKey": "63617b7e-909e-XXXX-va38-e1bcb249b2ff",
      "iOSApiKey": "63617b7e-909e-XXXX-va38-e1bcb249b2ff",
      "webApiKey": "63617b7e-909e-XXXX-va38-e1bcb249b2ff",
      "restApiKey": "b40db80d-12a9-XXXX-7822-5c6bv1be983a",
      "usePlatformSpecificApiKeys": true,
      "dataCenter": "US-06",
      "consentManagement": {
        "web": [
          {
            "provider": "custom",
            "consents": [
              {
                "consent": "Marketing"
              }
            ],
            "resolutionStrategy": "or"
          },
          {
            "provider": "oneTrust",
            "consents": [
              {
                "consent": "Marketing"
              }
            ]
          },
          {
            "provider": "ketch",
            "consents": []
          },
          {
            "provider": "iubenda",
            "consents": [
              {
                "consent": "1"
              },
              {
                "consent": "4"
              }
            ]
          }
        ]
      }
    },
    "result": true
  },
  {
    "testTitle": "With consent management custom provider config and invalid resolutionStrategy value",
    "config": {
      "appKey": "63617b7e-909e-XXXX-va38-e1bcb249b2ff",
      "restApiKey": "b40db80d-12a9-XXXX-7822-5c6bv1be983a",
      "dataCenter": "US-06",
      "usePlatformSpecificApiKeys": false,
      "consentManagement": {
        "android": [
          {
            "provider": "custom",
            "resolutionStrategy": "nor"
          }
        ],
        "androidKotlin": [
          {
            "provider": "custom",
            "resolutionStrategy": "nor"
          }
        ],
        "iosSwift": [
          {
            "provider": "custom",
            "resolutionStrategy": "nor"
          }
        ]
      }
    },
    "result": false,
    "err": [
      "consentManagement.android.0.resolutionStrategy must be equal to one of the allowed values",
      "consentManagement.android.0 must match \"then\" schema",
      "consentManagement.androidKotlin.0.resolutionStrategy must be equal to one of the allowed values",
      "consentManagement.androidKotlin.0 must match \"then\" schema",
      "consentManagement.iosSwift.0.resolutionStrategy must be equal to one of the allowed values",
      "consentManagement.iosSwift.0 must match \"then\" schema"
    ]
  },
  {
    "testTitle": "With consent management custom provider config and no resolutionStrategy value",
    "config": {
      "appKey": "63617b7e-909e-XXXX-va38-e1bcb249b2ff",
      "restApiKey": "b40db80d-12a9-XXXX-7822-5c6bv1be983a",
      "dataCenter": "US-06",
      "usePlatformSpecificApiKeys": false,
      "consentManagement": {
        "android": [
          {
            "provider": "custom"
          }
        ],
        "androidKotlin": [
          {
            "provider": "custom"
          }
        ],
        "iosSwift": [
          {
            "provider": "custom"
          }
        ]
      }
    },
    "result": false,
    "err": [
      "consentManagement.android.0 must have required property 'resolutionStrategy'",
      "consentManagement.android.0 must match \"then\" schema",
      "consentManagement.androidKotlin.0 must have required property 'resolutionStrategy'",
      "consentManagement.androidKotlin.0 must match \"then\" schema",
      "consentManagement.iosSwift.0 must have required property 'resolutionStrategy'",
      "consentManagement.iosSwift.0 must match \"then\" schema"
    ]
  },
  {
    "testTitle": "With consent management OneTrust provider config and no resolutionStrategy value",
    "config": {
      "appKey": "63617b7e-909e-XXXX-va38-e1bcb249b2ff",
      "androidApiKey": "63617b7e-909e-XXXX-va38-e1bcb249b2ff",
      "iOSApiKey": "63617b7e-909e-XXXX-va38-e1bcb249b2ff",
      "webApiKey": "63617b7e-909e-XXXX-va38-e1bcb249b2ff",
      "restApiKey": "b40db80d-12a9-XXXX-7822-5c6bv1be983a",
      "dataCenter": "US-06",
      "consentManagement": {
        "android": [
          {
            "provider": "oneTrust"
          }
        ],
        "androidKotlin": [
          {
            "provider": "oneTrust"
          }
        ],
        "iosSwift": [
          {
            "provider": "oneTrust"
          }
        ]
      }
    },
    "result": true
  },
  {
    "testTitle": "With consent management custom provider config invalid provider value",
    "config": {
      "appKey": "63617b7e-909e-XXXX-va38-e1bcb249b2ff",
      "restApiKey": "b40db80d-12a9-XXXX-7822-5c6bv1be983a",
      "dataCenter": "US-06",
      "usePlatformSpecificApiKeys": false,
      "consentManagement": {
        "android": [
          {
            "provider": "dummyProvider"
          }
        ],
        "androidKotlin": [
          {
            "provider": "dummyProvider"
          }
        ],
        "iosSwift": [
          {
            "provider": "dummyProvider"
          }
        ]
      }
    },
    "result": false,
    "err": [
      "consentManagement.android.0.provider must be equal to one of the allowed values",
      "consentManagement.androidKotlin.0.provider must be equal to one of the allowed values",
      "consentManagement.iosSwift.0.provider must be equal to one of the allowed values"
    ]
  },
  {
    "config": {
      "appKey": "63617b7e-909e-XXXX-va38-e1bcb249b2ff",
      "androidApiKey": "63617b7e-909e-XXXX-va38-e1bcb249b2ff",
      "iOSApiKey": "63617b7e-909e-XXXX-va38-e1bcb249b2ff",
      "webApiKey": "63617b7e-909e-XXXX-va38-e1bcb249b2ff",
      "restApiKey": "b40db80d-12a9-XXXX-7822-5c6bv1be983a",
      "usePlatformSpecificApiKeys": false,
      "dataCenter": "US-06",
      "connectionMode": {
        "android": "hybrid",
        "androidKotlin": "hybrid",
        "ios": "device",
        "web": "cloud"
      },
      "oneTrustCookieCategories": {
        "android": [
          {
            "oneTrustCookieCategory": "C0001"
          },
          {
            "oneTrustCookieCategory": "C0002"
          }
        ],
        "androidKotlin": [
          {
            "oneTrustCookieCategory": "C0001"
          },
          {
            "oneTrustCookieCategory": "C0002"
          }
        ],
        "ios": [
          {
            "oneTrustCookieCategory": "C0003"
          },
          {
            "oneTrustCookieCategory": "C0004"
          }
        ],
        "web": [
          {
            "oneTrustCookieCategory": ""
          }
        ],
        "unity": [],
        "amp": [
          {
            "oneTrustCookieCategory": "env.ENVIRONMENT_VARIABLE"
          }
        ],
        "cloud": [
          {
            "oneTrustCookieCategory": "{{ event.properties.prop1 || 'val' }}"
          }
        ],
        "warehouse": [
          {
            "oneTrustCookieCategory": "C0001"
          },
          {
            "oneTrustCookieCategory": "C0002"
          }
        ],
        "reactnative": [
          {
            "oneTrustCookieCategory": "C0003"
          },
          {
            "oneTrustCookieCategory": "C0004"
          }
        ],
        "flutter": [
          {
            "oneTrustCookieCategory": ""
          }
        ],
        "cordova": [],
        "shopify": [
          {
            "oneTrustCookieCategory": "env.ENVIRONMENT_VARIABLE"
          }
        ]
      },
      "ketchConsentPurposes": {
        "android": [
          {
            "purpose": "P1"
          },
          {
            "purpose": "P2"
          }
        ],
        "androidKotlin": [
          {
            "purpose": "P1"
          },
          {
            "purpose": "P2"
          }
        ],
        "ios": [
          {
            "purpose": "P3"
          },
          {
            "purpose": "P4"
          }
        ],
        "web": [
          {
            "purpose": ""
          }
        ],
        "unity": [],
        "amp": [
          {
            "purpose": "env.ENVIRONMENT_VARIABLE"
          }
        ],
        "cloud": [
          {
            "purpose": "{{ event.properties.prop1 || 'val' }}"
          }
        ],
        "warehouse": [
          {
            "purpose": "P1"
          },
          {
            "purpose": "P2"
          }
        ],
        "reactnative": [
          {
            "purpose": "P3"
          },
          {
            "purpose": "P4"
          }
        ],
        "flutter": [
          {
            "purpose": ""
          }
        ],
        "cordova": [],
        "shopify": [
          {
            "purpose": "env.ENVIRONMENT_VARIABLE"
          }
        ]
      }
    },
    "result": true
  },
  {
    "config": {
      "appKey": "63617b7e-909e-XXXX-va38-e1bcb249b2ff",
      "restApiKey": "b40db80d-12a9-XXXX-7822-5c6bv1be983a",
      "dataCenter": "US-06",
      "usePlatformSpecificApiKeys": false,
      "connectionMode": {
        "android": "hybrid",
        "androidKotlin": "hybrid",
        "ios": "device",
        "web": "cloud"
      },
      "oneTrustCookieCategories": [
        {
          "oneTrustCookieCategory": "C0001"
        },
        {
          "oneTrustCookieCategory": "C0002"
        }
      ],
      "ketchConsentPurposes": [
        {
          "purpose": "P1"
        },
        {
          "purpose": "P2"
        }
      ]
    },
    "result": false,
    "err": ["oneTrustCookieCategories must be object", "ketchConsentPurposes must be object"]
  },
  {
    "config": {
      "appKey": "63617b7e-909e-XXXX-va38-e1bcb249b2ff",
      "restApiKey": "b40db80d-12a9-XXXX-7822-5c6bv1be983a",
      "dataCenter": "US-06",
      "usePlatformSpecificApiKeys": false,
      "connectionMode": {
        "android": "hybrid",
        "ios": "device",
        "web": "cloud"
      },
      "oneTrustCookieCategories": {
        "android": [
          {
            "oneTrustCookieCategory": "more than 100 characters string - AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
          },
          {
            "oneTrustCookieCategory": "C0004"
          }
        ],
        "ios": [
          {
            "oneTrustCookieCategory": {
              "not": "a string"
            }
          },
          {
            "oneTrustCookieCategory": "C0004"
          }
        ],
        "web": {
          "not": "an array"
        },
        "unity": [
          "not an object",
          {
            "oneTrustCookieCategory": "C0004"
          }
        ]
      },
      "ketchConsentPurposes": {
        "android": [
          {
            "purpose": "more than 100 characters string - AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
          },
          {
            "purpose": "P4"
          }
        ],
        "ios": [
          {
            "purpose": {
              "not": "a string"
            }
          },
          {
            "purpose": "P4"
          }
        ],
        "web": {
          "not": "an array"
        },
        "unity": [
          "not an object",
          {
            "purpose": "P4"
          }
        ]
      }
    },
    "result": false,
    "err": [
      "oneTrustCookieCategories.android.0.oneTrustCookieCategory must match pattern \"(^\\{\\{.*\\|\\|(.*)\\}\\}$)|(^env[.].+)|^(.{0,100})$\"",
      "oneTrustCookieCategories.ios.0.oneTrustCookieCategory must be string",
      "oneTrustCookieCategories.web must be array",
      "oneTrustCookieCategories.unity.0 must be object",
      "ketchConsentPurposes.android.0.purpose must match pattern \"(^\\{\\{.*\\|\\|(.*)\\}\\}$)|(^env[.].+)|^(.{0,100})$\"",
      "ketchConsentPurposes.ios.0.purpose must be string",
      "ketchConsentPurposes.web must be array",
      "ketchConsentPurposes.unity.0 must be object"
    ]
  },
  {
    "testTitle": "iosSwift cloud mode with restApiKey should pass",
    "config": {
      "dataCenter": "US-01",
      "restApiKey": "a1b2c3d4-e5f6-XXXX-9012-3456789abcde",
      "connectionMode": {
        "iosSwift": "cloud"
      }
    },
    "result": true
  },
  {
    "testTitle": "iosSwift cloud mode without restApiKey should fail",
    "config": {
      "dataCenter": "US-01",
      "connectionMode": {
        "iosSwift": "cloud"
      }
    },
    "result": false,
    "err": [" must have required property 'restApiKey'", " must match \"then\" schema"]
  },
  {
    "testTitle": "iosSwift device mode with usePlatformSpecificApiKeys=false and appKey should pass",
    "config": {
      "dataCenter": "US-01",
      "appKey": "a1b2c3d4-e5f6-XXXX-9012-3456789abcde",
      "usePlatformSpecificApiKeys": false,
      "connectionMode": {
        "iosSwift": "device"
      }
    },
    "result": true
  },
  {
    "testTitle": "iosSwift device mode with usePlatformSpecificApiKeys=true and iOSApiKey should pass",
    "config": {
      "dataCenter": "US-01",
      "iOSApiKey": "a1b2c3d4-e5f6-XXXX-9012-3456789abcde",
      "usePlatformSpecificApiKeys": true,
      "connectionMode": {
        "iosSwift": "device"
      }
    },
    "result": true
  },
  {
    "testTitle": "iosSwift device mode with usePlatformSpecificApiKeys=true without iOSApiKey should fail",
    "config": {
      "dataCenter": "US-01",
      "usePlatformSpecificApiKeys": true,
      "connectionMode": {
        "iosSwift": "device"
      }
    },
    "result": false,
    "err": [" must have required property 'iOSApiKey'", " must match \"then\" schema"]
  },
  {
    "testTitle": "iosSwift hybrid mode with restApiKey and iOSApiKey with platform-specific keys enabled should pass",
    "config": {
      "dataCenter": "US-01",
      "restApiKey": "a1b2c3d4-e5f6-XXXX-9012-3456789abcde",
      "iOSApiKey": "b2c3d4e5-f6a7-XXXX-0123-456789abcdef",
      "usePlatformSpecificApiKeys": true,
      "connectionMode": {
        "iosSwift": "hybrid"
      }
    },
    "result": true
  },
  {
    "testTitle": "iosSwift hybrid mode missing restApiKey should fail",
    "config": {
      "dataCenter": "US-01",
      "iOSApiKey": "b2c3d4e5-f6a7-XXXX-0123-456789abcdef",
      "usePlatformSpecificApiKeys": true,
      "connectionMode": {
        "iosSwift": "hybrid"
      }
    },
    "result": false,
    "err": [" must have required property 'restApiKey'", " must match \"then\" schema"]
  },
  {
    "testTitle": "androidKotlin cloud mode with restApiKey should pass",
    "config": {
      "dataCenter": "US-01",
      "restApiKey": "c3d4e5f6-a7b8-XXXX-1234-56789abcdef0",
      "connectionMode": {
        "androidKotlin": "cloud"
      }
    },
    "result": true
  },
  {
    "testTitle": "androidKotlin cloud mode without restApiKey should fail",
    "config": {
      "dataCenter": "US-01",
      "connectionMode": {
        "androidKotlin": "cloud"
      }
    },
    "result": false,
    "err": [" must have required property 'restApiKey'", " must match \"then\" schema"]
  },
  {
    "testTitle": "androidKotlin device mode with usePlatformSpecificApiKeys=false and appKey should pass",
    "config": {
      "dataCenter": "US-01",
      "appKey": "d4e5f6a7-b8c9-XXXX-2345-6789abcdef01",
      "usePlatformSpecificApiKeys": false,
      "connectionMode": {
        "androidKotlin": "device"
      }
    },
    "result": true
  },
  {
    "testTitle": "androidKotlin device mode with usePlatformSpecificApiKeys=true and androidApiKey should pass",
    "config": {
      "dataCenter": "US-01",
      "androidApiKey": "e5f6a7b8-c9d0-XXXX-3456-789abcdef012",
      "usePlatformSpecificApiKeys": true,
      "connectionMode": {
        "androidKotlin": "device"
      }
    },
    "result": true
  },
  {
    "testTitle": "androidKotlin device mode with usePlatformSpecificApiKeys=true without androidApiKey should fail",
    "config": {
      "dataCenter": "US-01",
      "usePlatformSpecificApiKeys": true,
      "connectionMode": {
        "androidKotlin": "device"
      }
    },
    "result": false,
    "err": [" must have required property 'androidApiKey'", " must match \"then\" schema"]
  },
  {
    "testTitle": "androidKotlin hybrid mode with restApiKey and androidApiKey with platform-specific keys enabled should pass",
    "config": {
      "dataCenter": "US-01",
      "restApiKey": "f6a7b8c9-d0e1-XXXX-4567-89abcdef0123",
      "androidApiKey": "a7b8c9d0-e1f2-XXXX-5678-9abcdef01234",
      "usePlatformSpecificApiKeys": true,
      "connectionMode": {
        "androidKotlin": "hybrid"
      }
    },
    "result": true
  },
  {
    "testTitle": "androidKotlin hybrid mode missing restApiKey should fail",
    "config": {
      "dataCenter": "US-01",
      "androidApiKey": "a7b8c9d0-e1f2-XXXX-5678-9abcdef01234",
      "usePlatformSpecificApiKeys": true,
      "connectionMode": {
        "androidKotlin": "hybrid"
      }
    },
    "result": false,
    "err": [" must have required property 'restApiKey'", " must match \"then\" schema"]
  },
  {
    "testTitle": "androidKotlin and iosSwift device mode with platform-specific keys should pass",
    "config": {
      "dataCenter": "US-01",
      "androidApiKey": "b8c9d0e1-f2a3-XXXX-6789-abcdef012345",
      "iOSApiKey": "c9d0e1f2-a3b4-XXXX-789a-bcdef0123456",
      "usePlatformSpecificApiKeys": true,
      "connectionMode": {
        "androidKotlin": "device",
        "iosSwift": "device"
      }
    },
    "result": true
  },
  {
    "testTitle": "android and iosSwift device mode with platform-specific keys should pass",
    "config": {
      "dataCenter": "US-01",
      "androidApiKey": "d0e1f2a3-b4c5-XXXX-89ab-cdef01234567",
      "iOSApiKey": "e1f2a3b4-c5d6-XXXX-9abc-def012345678",
      "usePlatformSpecificApiKeys": true,
      "connectionMode": {
        "android": "device",
        "iosSwift": "device"
      }
    },
    "result": true
  },
  {
    "testTitle": "web, androidKotlin, and iosSwift device mode with all platform-specific keys should pass",
    "config": {
      "dataCenter": "US-01",
      "webApiKey": "f2a3b4c5-d6e7-XXXX-abcd-ef0123456789",
      "androidApiKey": "a3b4c5d6-e7f8-XXXX-bcde-f01234567890",
      "iOSApiKey": "b4c5d6e7-f8a9-XXXX-cdef-012345678901",
      "usePlatformSpecificApiKeys": true,
      "connectionMode": {
        "web": "device",
        "androidKotlin": "device",
        "iosSwift": "device"
      }
    },
    "result": true
  },
  {
    "testTitle": "web, androidKotlin, iosSwift device mode with missing iOSApiKey should fail",
    "config": {
      "dataCenter": "US-01",
      "webApiKey": "f2a3b4c5-d6e7-XXXX-abcd-ef0123456789",
      "androidApiKey": "a3b4c5d6-e7f8-XXXX-bcde-f01234567890",
      "usePlatformSpecificApiKeys": true,
      "connectionMode": {
        "web": "device",
        "androidKotlin": "device",
        "iosSwift": "device"
      }
    },
    "result": false,
    "err": [" must have required property 'iOSApiKey'", " must match \"then\" schema"]
  },
  {
    "testTitle": "multiple device platforms with usePlatformSpecificApiKeys=false requiring only appKey should pass",
    "config": {
      "dataCenter": "US-01",
      "appKey": "c5d6e7f8-a9b0-XXXX-def0-123456789012",
      "usePlatformSpecificApiKeys": false,
      "connectionMode": {
        "android": "device",
        "ios": "device",
        "web": "device"
      }
    },
    "result": true
  },
  {
    "testTitle": "androidKotlin and iosSwift with usePlatformSpecificApiKeys=false requiring only appKey should pass",
    "config": {
      "dataCenter": "US-01",
      "appKey": "d6e7f8a9-b0c1-XXXX-ef01-234567890123",
      "usePlatformSpecificApiKeys": false,
      "connectionMode": {
        "androidKotlin": "device",
        "iosSwift": "device"
      }
    },
    "result": true
  },
  {
    "testTitle": "reactnative device mode with both androidApiKey and iOSApiKey should pass",
    "config": {
      "dataCenter": "US-01",
      "androidApiKey": "e7f8a9b0-c1d2-XXXX-f012-345678901234",
      "iOSApiKey": "f8a9b0c1-d2e3-XXXX-0123-456789012345",
      "usePlatformSpecificApiKeys": true,
      "connectionMode": {
        "reactnative": "device"
      }
    },
    "result": true
  },
  {
    "testTitle": "reactnative device mode with only androidApiKey missing iOSApiKey should fail",
    "config": {
      "dataCenter": "US-01",
      "androidApiKey": "a9b0c1d2-e3f4-XXXX-1234-567890123456",
      "usePlatformSpecificApiKeys": true,
      "connectionMode": {
        "reactnative": "device"
      }
    },
    "result": false,
    "err": [" must have required property 'iOSApiKey'", " must match \"then\" schema"]
  },
  {
    "testTitle": "flutter device mode with both androidApiKey and iOSApiKey should pass",
    "config": {
      "dataCenter": "US-01",
      "androidApiKey": "b0c1d2e3-f4a5-XXXX-2345-678901234567",
      "iOSApiKey": "c1d2e3f4-a5b6-XXXX-3456-789012345678",
      "usePlatformSpecificApiKeys": true,
      "connectionMode": {
        "flutter": "device"
      }
    },
    "result": true
  },
  {
    "testTitle": "flutter device mode with only iOSApiKey missing androidApiKey should fail",
    "config": {
      "dataCenter": "US-01",
      "iOSApiKey": "d2e3f4a5-b6c7-XXXX-4567-890123456789",
      "usePlatformSpecificApiKeys": true,
      "connectionMode": {
        "flutter": "device"
      }
    },
    "result": false,
    "err": [" must have required property 'androidApiKey'", " must match \"then\" schema"]
  },
  {
    "testTitle": "androidKotlin hybrid and iosSwift device with platform-specific keys should pass",
    "config": {
      "dataCenter": "US-01",
      "restApiKey": "e3f4a5b6-c7d8-XXXX-5678-901234567890",
      "androidApiKey": "f4a5b6c7-d8e9-XXXX-6789-012345678901",
      "iOSApiKey": "a5b6c7d8-e9f0-XXXX-789a-123456789012",
      "usePlatformSpecificApiKeys": true,
      "connectionMode": {
        "androidKotlin": "hybrid",
        "iosSwift": "device"
      }
    },
    "result": true
  },
  {
    "testTitle": "multiple hybrid platforms requiring restApiKey and all platform-specific keys should pass",
    "config": {
      "dataCenter": "US-01",
      "restApiKey": "b6c7d8e9-f0a1-XXXX-89ab-234567890123",
      "androidApiKey": "c7d8e9f0-a1b2-XXXX-9abc-345678901234",
      "iOSApiKey": "d8e9f0a1-b2c3-XXXX-abcd-456789012345",
      "webApiKey": "e9f0a1b2-c3d4-XXXX-bcde-567890123456",
      "usePlatformSpecificApiKeys": true,
      "connectionMode": {
        "web": "hybrid",
        "androidKotlin": "hybrid",
        "iosSwift": "hybrid"
      }
    },
    "result": true
  },
  {
    "testTitle": "mixed cloud and device modes with appropriate keys should pass",
    "config": {
      "dataCenter": "US-01",
      "restApiKey": "b2c3d4e5-f6a7-XXXX-ef01-890123456789",
      "appKey": "c3d4e5f6-a7b8-XXXX-f012-901234567890",
      "usePlatformSpecificApiKeys": false,
      "connectionMode": {
        "androidKotlin": "cloud",
        "iosSwift": "device"
      }
    },
    "result": true
  }
]
